{% extends "layout.html" %}

{% block title %}Para YatÄ±r{% endblock %}

{% block content %}

<header class="page-header">
    <a href="{{ url_for('mine') }}" class="back-arrow"><i class="fas fa-chevron-left"></i></a>
    <h1>Deposit</h1>
</header>

<main class="content">
    <form method="POST" action="{{ url_for('deposit') }}">
        <div class="form-section">
            <h3>Payment method</h3>
            <div class="option-box">
                <img src="/static/images/usdt_logo.png" alt="USDT">
                <span>USDT</span>
            </div>
        </div>

        <div class="form-section">
            <h3>Select the protocol to use</h3>
             <div class="option-box">
                <img src="/static/images/trc20_logo.png" alt="TRC-20">
                <span>TRC-20</span>
            </div>
        </div>

        <div class="form-section">
            <h3>Deposit amount</h3>
            <input type="number" name="amount" id="amount-input" class="deposit-amount-input" placeholder="0.00" step="0.01" min="0.1" required>
            <p class="deposit-note">Minimum deposit amount is 5
                 USDT</p>
        </div>
        
        <button type="submit" id="deposit-btn" class="btn-primary" disabled>Deposit now</button>
    </form>
</main>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const amountInput = document.getElementById('amount-input');
        const depositBtn = document.getElementById('deposit-btn');
        const minAmount = 0.1;

        amountInput.addEventListener('input', function() {
            try {
                const amount = parseFloat(this.value);
                if (amount >= minAmount) {
                    depositBtn.disabled = false;
                } else {
                    depositBtn.disabled = true;
                }
            } catch (e) {
                depositBtn.disabled = true;
            }
        });
    });
</script>
{% endblock %}